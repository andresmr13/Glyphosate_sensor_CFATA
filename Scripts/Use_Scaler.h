
#ifndef SCOUT_SCALER_H
#define SCOUT_SCALER_H

// RobustScaler Data
// Features: 100

static const float SCALER_CENTER[100] = { 5458.962293012731, 6893.499813399636, 8649.054665715747, 10255.0, 11578.0, 12091.0, 11805.427826492887, 10874.98812769734, 9575.094612253542, 8272.98431252184, 4674.922122206352, 4770.72396624776, 4826.772296999839, 4852.318897783166, 4911.158474116253, 4948.4059134251875, 4891.408272312055, 4917.632828125999, 4852.976055483393, 4839.0795098372455, 4793.145267487589, 4677.522268347873, 4690.05764054869, 4593.0, 4530.0, 4505.812385459516, 4400.752122585581, 4351.01295058787, 4290.65967848462, 4162.270664443945, 4143.0, 4083.0295477755135, 3983.7170620130537, 3958.605077848728, 3836.0770276891635, 3779.462289850817, 3718.0352515888985, 3655.641579158217, 3598.965446256582, 3503.2774756314993, 3417.736318400465, 3424.026397525572, 3327.563018104198, 3292.4252374883317, 3240.821268726818, 3111.841376961045, 3117.98960183066, 3042.7219473112805, 2974.6761713323567, 2957.0, 3838.884132107085, 4448.24348459774, 5133.353784510607, 5587.321040430642, 5950.898216911688, 5891.137031956659, 5782.556636657078, 5641.257207385431, 5670.427137151007, 6572.9892200841205, 9060.948148599786, 11573.412227655179, 13200.605061571925, 12830.266692137971, 11467.133714753827, 10391.114776820183, 9214.5, 8143.015160370727, 6652.135925349422, 5544.125648840532, 4727.17775788425, 4067.137479112702, 3802.5162416331996, 3668.461749854131, 3554.436606529348, 3694.359042599427, 3771.109114224657, 4107.781195131477, 4495.28916484006, 5363.755328822658, 6806.8552630967715, 8639.025369072304, 10621.349549303202, 11770.874796110782, 12200.821224865922, 12003.742921854231, 11386.888680213156, 10608.839074389329, 9703.45719098274, 8259.080739705198, 7008.0, 5901.098063155732, 4938.0, 4431.7649878967095, 4069.927544332156, 3832.8962867259397, 3840.949821924264, 3631.948180821866, 3672.3371399774323, 3670.9789204233853 };
static const float SCALER_SCALE[100]  = { 101.00212813321923, 116.31896311222954, 157.37590409992845, 182.87481085230502, 208.64584796414238, 196.9197169947165, 205.988793470764, 197.5855137437611, 171.45393915305067, 137.32527369429044, 87.9642090250818, 84.80682276726657, 95.99821432257522, 94.9283923789526, 105.01102224127862, 105.99648075088953, 104.51395984469582, 101.27774510620111, 110.42921004926211, 115.09219620581644, 111.64039824697738, 117.957914518086, 115.00592979050452, 115.27234411709287, 110.61208636457286, 118.7108382797087, 121.65348324856313, 119.42530197630367, 127.07441501503126, 120.20162227005767, 126.69534956375946, 126.84356255003877, 128.88228036118244, 128.37424555672806, 134.42415330219728, 131.3015972508838, 139.59025161048112, 131.61335292727154, 135.3380669584285, 126.60237945371591, 134.127025846592, 140.68618517045115, 134.8758999122797, 138.68973688538426, 140.63614160938596, 133.366537333417, 131.7518761595693, 129.57659706883078, 129.23390289604095, 127.04074998341639, 182.6672972952315, 197.18624372041631, 204.00050079847733, 184.7482541505433, 176.48720125964792, 163.902912868547, 168.6349755336032, 162.1313881715032, 172.85998099933568, 193.72242665771046, 206.64858532588914, 208.72773749711632, 251.567668803591, 258.82508447908185, 218.71588828467793, 199.562371588303, 162.31981144834572, 151.2709642464588, 138.60190740203052, 144.89702103942182, 148.25693445902107, 154.98359203975997, 177.1137734332915, 181.58125516265363, 187.51906353557615, 179.17438623379758, 184.69759774309705, 196.2576375078911, 201.83081591292103, 204.87129915548303, 243.32685288823268, 246.41765360516183, 305.31158421303917, 356.4348635512142, 407.1277299875819, 409.88765975311435, 393.99211192422626, 372.1630033475485, 329.0229137123897, 264.8527868963265, 207.12092722972284, 165.9690804874881, 156.2410872990995, 159.60393263989408, 167.96701134175737, 178.01941852757318, 194.39742468125905, 175.86927191680616, 191.72896618791538, 186.36386628918717 };

/**
 * Applies RobustScaler transformation in-place or to a new buffer.
 * input: array of raw values
 * output: array where scaled values will be stored
 */
void apply_scaler(float *input, float *output) {
    for (int i = 0; i < 100; i++) {
        output[i] = (input[i] - SCALER_CENTER[i]) / SCALER_SCALE[i];
    }
}

#endif
